const googleTrends = ["2017-12-31",76,
"2018-01-07",75,
"2018-01-14",96,
"2018-01-21",64,
"2018-01-28",64,
"2018-02-04",85,
"2018-02-11",43,
"2018-02-18",39,
"2018-02-25",30,
"2018-03-04",30,
"2018-03-11",32,
"2018-03-18",29,
"2018-03-25",30,
"2018-04-01",28,
"2018-04-08",25,
"2018-04-15",22,
"2018-04-22",23,
"2018-04-29",20,
"2018-05-06",21,
"2018-05-13",18,
"2018-05-20",18,
"2018-05-27",16,
"2018-06-03",15,
"2018-06-10",23,
"2018-06-17",17,
"2018-06-24",19,
"2018-07-01",16,
"2018-07-08",16,
"2018-07-15",19,
"2018-07-22",19,
"2018-07-29",17,
"2018-08-05",17,
"2018-08-12",18,
"2018-08-19",15,
"2018-08-26",15,
"2018-09-02",16,
"2018-09-09",15,
"2018-09-16",13,
"2018-09-23",13,
"2018-09-30",10,
"2018-10-07",12,
"2018-10-14",10,
"2018-10-21",9,
"2018-10-28",10,
"2018-11-04",10,
"2018-11-11",14,
"2018-11-18",21,
"2018-11-25",22,
"2018-12-02",18,
"2018-12-09",17,
"2018-12-16",17,
"2018-12-23",15,
"2018-12-30",12,
"2019-01-06",12,
"2019-01-13",10,
"2019-01-20",9,
"2019-01-27",9,
"2019-02-03",11,
"2019-02-10",9,
"2019-02-17",11,
"2019-02-24",10,
"2019-03-03",9,
"2019-03-10",8,
"2019-03-17",9,
"2019-03-24",8,
"2019-03-31",17,
"2019-04-07",14,
"2019-04-14",12,
"2019-04-21",14,
"2019-04-28",11,
"2019-05-05",17,
"2019-05-12",29,
"2019-05-19",21,
"2019-05-26",21,
"2019-06-02",18,
"2019-06-09",15,
"2019-06-16",27,
"2019-06-23",42,
"2019-06-30",24,
"2019-07-07",24,
"2019-07-14",22,
"2019-07-21",18,
"2019-07-28",16,
"2019-08-04",19,
"2019-08-11",17,
"2019-08-18",15,
"2019-08-25",13,
"2019-09-01",13,
"2019-09-08",11,
"2019-09-15",11,
"2019-09-22",18,
"2019-09-29",13,
"2019-10-06",12,
"2019-10-13",11,
"2019-10-20",15,
"2019-10-27",13,
"2019-11-03",12,
"2019-11-10",10,
"2019-11-17",12,
"2019-11-24",12,
"2019-12-01",11,
"2019-12-08",10,
"2019-12-15",12,
"2019-12-22",10,
"2019-12-29",11,
"2020-01-05",13,
"2020-01-12",13,
"2020-01-19",12,
"2020-01-26",13,
"2020-02-02",14,
"2020-02-09",16,
"2020-02-16",14,
"2020-02-23",15,
"2020-03-01",12,
"2020-03-08",24,
"2020-03-15",24,
"2020-03-22",17,
"2020-03-29",14,
"2020-04-05",15,
"2020-04-12",15,
"2020-04-19",15,
"2020-04-26",19,
"2020-05-03",23,
"2020-05-10",27,
"2020-05-17",17,
"2020-05-24",15,
"2020-05-31",16,
"2020-06-07",14,
"2020-06-14",12,
"2020-06-21",13,
"2020-06-28",12,
"2020-07-05",13,
"2020-07-12",15,
"2020-07-19",13,
"2020-07-26",22,
"2020-08-02",20,
"2020-08-09",18,
"2020-08-16",17,
"2020-08-23",13,
"2020-08-30",14,
"2020-09-06",13,
"2020-09-13",12,
"2020-09-20",11,
"2020-09-27",10,
"2020-10-04",11,
"2020-10-11",12,
"2020-10-18",19,
"2020-10-25",19,
"2020-11-01",18,
"2020-11-08",20,
"2020-11-15",32,
"2020-11-22",34,
"2020-11-29",32,
"2020-12-06",24,
"2020-12-13",42,
"2020-12-20",40,
"2020-12-27",60,
"2021-01-03",100,
"2021-01-10",97,
"2021-01-17",59,
"2021-01-24",58,
"2021-01-31",51,
"2021-02-07",88,
"2021-02-14",83,
"2021-02-21",87,
"2021-02-28",59,
"2021-03-07",55,
"2021-03-14",56,
"2021-03-21",50,
"2021-03-28",48,
"2021-04-04",42,
"2021-04-11",61,
"2021-04-18",73,
"2021-04-25",51,
"2021-05-02",49,
"2021-05-09",69,
"2021-05-16",99,
"2021-05-23",71,
"2021-05-30",47,
"2021-06-06",54,
"2021-06-13",42,
"2021-06-20",49,
"2021-06-27",36,
"2021-07-04",31,
"2021-07-11",29,
"2021-07-18",34,
"2021-07-25",41,
"2021-08-01",31,
"2021-08-08",36,
"2021-08-15",31,
"2021-08-22",32,
"2021-08-29",27,
"2021-09-05",38,
"2021-09-12",27,
"2021-09-19",35,
"2021-09-26",28,
"2021-10-03",35,
"2021-10-10",39,
"2021-10-17",53,
"2021-10-24",45,
"2021-10-31",37,
"2021-11-07",41,
"2021-11-14",39,
"2021-11-21",36,
"2021-11-28",44,
"2021-12-05",43,
"2021-12-12",37,
"2021-12-19",35,
"2021-12-26",31,
"2022-01-02",40,
"2022-01-09",38,
"2022-01-16",43,
"2022-01-23",55,
"2022-01-30",36,
"2022-02-06",36,
"2022-02-13",31,
"2022-02-20",41,
"2022-02-27",33,
"2022-03-06",33,
"2022-03-13",28,
"2022-03-20",26,
"2022-03-27",27,
"2022-04-03",27,
"2022-04-10",25,
"2022-04-17",22,
"2022-04-24",24,
"2022-05-01",24,
"2022-05-08",57,
"2022-05-15",40,
"2022-05-22",28,
"2022-05-29",27,
"2022-06-05",25,
"2022-06-12",79,
"2022-06-19",54,
"2022-06-26",40,
"2022-07-03",34,
"2022-07-10",31,
"2022-07-17",32,
"2022-07-24",26,
"2022-07-31",23,
"2022-08-07",22,
"2022-08-14",21,
"2022-08-21",21,
"2022-08-28",21,
"2022-09-04",23,
"2022-09-11",22,
"2022-09-18",23,
"2022-09-25",20,
"2022-10-02",18,
"2022-10-09",19,
"2022-10-16",17,
"2022-10-23",17,
"2022-10-30",17,
"2022-11-06",35,
"2022-11-13",35,
"2022-11-20",26,
"2022-11-27",22,
"2022-12-04",20,
"2022-12-11",22,
"2022-12-18",19,
"2022-12-25",18]

const result = {};
const keyCount = {}
for (let i=0; i< googleTrends.length; i+=2){
    let key;
    try{
        key = googleTrends[i].slice(0,-3);

    }catch(e){
        console.log(googleTrends[i], i);
    }
    if(result[key] === undefined){
        result[key] = googleTrends[i+1];
        keyCount[key] = 1;
    }else{
        result[key] +=googleTrends[i+1];
        keyCount[key] ++;
    }

}
for(let key in result) {
    result[key] /= keyCount[key];
}


const googleTrendsBTC = [
    "2017-12", 76,
    "2018-01", 74.75,
    "2018-02", 49.25,
    "2018-03", 30.25,
    "2018-04", 23.6,
    "2018-05", 18.25,
    "2018-06", 18.5,
    "2018-07", 17.4,
    "2018-08", 16.25,
    "2018-09", 13.4,
    "2018-10", 10.25,
    "2018-11", 16.75,
    "2018-12", 15.8,
    "2019-01", 10,
    "2019-02", 10.25,
    "2019-03", 10.2,
    "2019-04", 12.75,
    "2019-05", 22,
    "2019-06", 25.2,
    "2019-07", 20,
    "2019-08", 16,
    "2019-09", 13.2,
    "2019-10", 12.75,
    "2019-11", 11.5,
    "2019-12", 10.8,
    "2020-01", 12.75,
    "2020-02", 14.75,
    "2020-03", 18.2,
    "2020-04", 16,
    "2020-05", 19.6,
    "2020-06", 12.75,
    "2020-07", 15.75,
    "2020-08", 16.4,
    "2020-09", 11.5,
    "2020-10", 15.25,
    "2020-11", 27.2,
    "2020-12", 41.5,
    "2021-01", 73,
    "2021-02", 79.25,
    "2021-03", 52.25,
    "2021-04", 56.75,
    "2021-05", 67,
    "2021-06", 45.25,
    "2021-07", 33.75,
    "2021-08", 31.4,
    "2021-09", 32,
    "2021-10", 41.8,
    "2021-11", 40,
    "2021-12", 36.5,
    "2022-01", 42.4,
    "2022-02", 35.25,
    "2022-03", 28.5,
    "2022-04", 24.5,
    "2022-05", 35.2,
    "2022-06", 49.5,
    "2022-07", 29.2,
    "2022-08", 21.25,
    "2022-09", 22,
    "2022-10", 17.6,
    "2022-11", 29.5,
    "2022-12", 19.75
];


const previousDateResult = {};

for( let i =2; i< googleTrendsBTC.length; i+=2){
    previousDateResult[googleTrendsBTC[i]] = googleTrendsBTC[i+1] - googleTrendsBTC[i-1];
}



difResult = {
    "2018-01": -1.25,
    "2018-02": -25.5,
    "2018-03": -19,
    "2018-04": -6.649999999999999,
    "2018-05": -5.350000000000001,
    "2018-06": 0.25,
    "2018-07": -1.1000000000000014,
    "2018-08": -1.1499999999999986,
    "2018-09": -2.8499999999999996,
    "2018-10": -3.1500000000000004,
    "2018-11": 6.5,
    "2018-12": -0.9499999999999993,
    "2019-01": -5.800000000000001,
    "2019-02": 0.25,
    "2019-03": -0.05000000000000071,
    "2019-04": 2.5500000000000007,
    "2019-05": 9.25,
    "2019-06": 3.1999999999999993,
    "2019-07": -5.199999999999999,
    "2019-08": -4,
    "2019-09": -2.8000000000000007,
    "2019-10": -0.4499999999999993,
    "2019-11": -1.25,
    "2019-12": -0.6999999999999993,
    "2020-01": 1.9499999999999993,
    "2020-02": 2,
    "2020-03": 3.4499999999999993,
    "2020-04": -2.1999999999999993,
    "2020-05": 3.6000000000000014,
    "2020-06": -6.850000000000001,
    "2020-07": 3,
    "2020-08": 0.6499999999999986,
    "2020-09": -4.899999999999999,
    "2020-10": 3.75,
    "2020-11": 11.95,
    "2020-12": 14.3,
    "2021-01": 31.5,
    "2021-02": 6.25,
    "2021-03": -27,
    "2021-04": 4.5,
    "2021-05": 10.25,
    "2021-06": -21.75,
    "2021-07": -11.5,
    "2021-08": -2.3500000000000014,
    "2021-09": 0.6000000000000014,
    "2021-10": 9.799999999999997,
    "2021-11": -1.7999999999999972,
    "2021-12": -3.5,
    "2022-01": 5.899999999999999,
    "2022-02": -7.149999999999999,
    "2022-03": -6.75,
    "2022-04": -4,
    "2022-05": 10.700000000000003,
    "2022-06": 14.299999999999997,
    "2022-07": -20.3,
    "2022-08": -7.949999999999999,
    "2022-09": 0.75,
    "2022-10": -4.399999999999999,
    "2022-11": 11.899999999999999,
    "2022-12": -9.75
}